(this["webpackJsonptodolist-app"]=this["webpackJsonptodolist-app"]||[]).push([[0],{20:function(t,n,e){},39:function(t,n,e){},40:function(t,n,e){"use strict";e.r(n);var i=e(0),c=e(2),o=e.n(c),r=e(14),u=e.n(r),l=(e(20),e(4)),d=e(3),s=e.n(d),a="/api/todolist",j=function(){return s.a.get(a).then((function(t){return t.data}))},f=function(t){return s.a.post(a,t).then((function(t){return t.data}))},h=function(t){return s.a.delete(a+"/"+t).then((function(t){return t.data}))},b=function(t){return s.a.put(a+"/"+t.id,t).then((function(t){return t.data}))},O=(e(39),function(t){var n=t.todolist,e=t.handleDone,c=t.handleDelete;return n.map((function(t){return Object(i.jsxs)("tr",{className:t.done?"item_done":"item_normal",children:[Object(i.jsx)("td",{children:t.title}),Object(i.jsx)("td",{children:Object(i.jsx)("button",{onClick:e(t),children:t.done?"mark as undone":"mark as done"})}),Object(i.jsx)("td",{children:Object(i.jsx)("button",{onClick:c(t.id),children:"delete"})})]},t.id)}))}),x=function(t){return Object(i.jsxs)("form",{children:[Object(i.jsx)("div",{children:Object(i.jsx)("input",{value:t.newTitle,onChange:t.handleTitleChange})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{onClick:t.handleSubmit,type:"submit",children:"Add"})})]})},g=function(t){var n=t.notification;return null===n||null===n.string?null:Object(i.jsx)("div",{className:n.isError?"notification_error":"notification_normal",children:n.string})},p=function(){var t=Object(c.useState)([]),n=Object(l.a)(t,2),e=n[0],o=n[1],r=Object(c.useState)(""),u=Object(l.a)(r,2),d=u[0],s=u[1],a=Object(c.useState)({string:null,isError:!1}),p=Object(l.a)(a,2),m=p[0],v=p[1];Object(c.useEffect)((function(){j().then((function(t){return o(t)}))}),[]);return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Add new item to TODO list"}),Object(i.jsx)(g,{notification:m}),Object(i.jsx)(x,{newTitle:d,handleTitleChange:function(t){console.log(t.target.value),s(t.target.value)},handleSubmit:function(t){t.preventDefault(),f({title:d}).then((function(t){o(e.concat(t)),v({string:"Added new item to todo list '".concat(d,"'"),isError:!1}),setTimeout((function(){v(null)}),5e3)})).catch((function(t){console.log(t.response.data),v({string:t.response.data,isError:!0}),setTimeout((function(){v(null)}),5e3)}))}}),Object(i.jsx)("br",{}),Object(i.jsx)("h2",{children:"My TODO list"}),Object(i.jsx)("table",{children:Object(i.jsx)(O,{todolist:e,handleDone:function(t){return function(){t.done=!t.done,console.log("update "+t),b(t).then((function(n){var i=e.slice(),c=i.findIndex((function(t){return t.id===n.id}));i.splice(c,1,t),o(i)}))}},handleDelete:function(t){return function(){console.log("delete "+t),h(t).then((function(n){return o(e.filter((function(n){return n.id!==t})))}))}}})})]})},m=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,41)).then((function(n){var e=n.getCLS,i=n.getFID,c=n.getFCP,o=n.getLCP,r=n.getTTFB;e(t),i(t),c(t),o(t),r(t)}))};u.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(p,{})}),document.getElementById("root")),m()}},[[40,1,2]]]);
//# sourceMappingURL=main.842c97e7.chunk.js.map